<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>User Register</title>
    <style type="text/css"></style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="col-sm">
      <div class="container">
        <h1>User Register</h1>
        <form method="post" action="/MVC_WEB/UserAPI">
          <div class="form-group">
            <label for="user_name">Name:</label>
            <input
              type="text"
              id="user_name"
              class="form-control"
              name="user_name"
              placeholder="Name of User"
              required
            />
          </div>
          <div class="form-group">
            <label for="user_cpf">CPF:</label>
            <input
              type="text"
              class="form-control"
              id="user_cpf"
              name="user_cpf"
              placeholder="123.456.789-11"
              onchange="maskCPF(this)"
              required
              maxlength="14"
            />
          </div>
          <div class="form-group">
            <label for="user_birthday">Birthday:</label>
            <input
              type="date"
              id="user_birthday"
              class="form-control"
              name="user_birthday"
            />
          </div>
          <div class="form-group">
            <label for="user_email">E-mail:</label>
            <input
              type="email"
              class="form-control"
              id="user_email"
              name="user_email"
              placeholder="user@email.com"
              required
            />
          </div>
          <div class="form-group">
            <label id="label_pass" for="user_pass">Pass: </label>
            <input
              type="password"
              id="user_pass"
              class="form-control"
              name="user_pass"
              placeholder="***************"
              required
            />
          </div>
          <div class="form-group">
            <label id="label_pass_Conf" for="user_pass_conf">Pass Conf: </label>
            <input
              type="password"
              id="user_pass_conf"
              class="form-control"
              name="user_pass_conf"
              onkeyup="checkPass()"
              placeholder="***************"
              required
            />
          </div>
          <div class="form-group">
            <label for="user_color">Color:</label>
            <input
              type="color"
              id="user_color"
              class="form-control"
              name="user_color"
            />
          </div>

          <div class="form-group">
            <input class="btn btn-primary" type="submit" value="Register" />
          </div>
        </form>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    function maskCPF(element) {
      var value = "";
      var cpf = element.value.replaceAll(".", "").replaceAll("-", "");
      for (i = 0; i < cpf.length; i++) {
        if (i == 3) value += cpf.substr(0, 3) + "." + cpf.substr(i, 1);
        else if (i == 6) value += cpf.substr(4, 2) + "." + cpf.substr(i, 1);
        else if (i == 9) value += cpf.substr(7, 2) + "-" + cpf.substr(i, 2);
      }
      element.value = value;
    }

    function checkPass() {
      var pass = document.getElementById("user_pass").value;
      var confPass = document.getElementById("user_pass_conf").value;

      var labelConfPass = document.getElementById("label_pass_Conf");

      if (pass == confPass) {
        labelConfPass.innerHTML = "";
        labelConfPass.innerHTML = "Pass Conf: ";

        var span = document.createElement("span");
        span.innerHTML = "&#10003;";
        span.style.color = "green";
        span.style.fontSize = "20px";

        labelConfPass.appendChild(span);
      } else {
        labelConfPass.innerHTML = "";
        labelConfPass.innerHTML = "Pass Conf: ";

        var span = document.createElement("span");
        span.innerHTML = "&#215;";
        span.style.color = "red";
        span.style.fontSize = "20px";

        labelConfPass.appendChild(span);
      }
    }
  </script>
</html>
